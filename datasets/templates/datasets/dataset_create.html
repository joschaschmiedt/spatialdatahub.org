{% load staticfiles %}
<html>
<head>
  <title>Add Dataset to Portal</title>

  
  <script src="http://maps.google.com/maps/api/js"></script>

  <style>
    #map {
      height: 80%;
      margin-bottom: 10px;
    }


  </style>



</head>
<body onLoad="initMap();"> 
  <form action="" method="post">{% csrf_token %}
    {{ form.as_p }}
    <input id="submit_dataset" type="submit" value="Save" />
  </form>

  <h2>Test Dataset URL</h2>
  <form action="" method="get">
    <input type="text" id="urlValue" name="urlValue" placeholder="Enter data url"/>
    <input type="button" id="theButton" onClick="showJsonData(this.urlValue);"/>
  </form>
 

  <div id="map">
  </div>


  <script>
    // initialize map, centered at lat: 0, lng: 0
    function initMap() {
      var map = new google.maps.Map(document.getElementById('map'), {
        zoom: 2,
        center: {lat: 0, lng: 0},
        mapTypeId: google.maps.MapTypeId.TERRAIN
      });
    }

    // load data to map
    function showJsonData(jsonDataset) {
      var jsonDataset = document.getElementById("urlValue").value;
      map.data.loadGeoJson(jsonDataset);
    }
  </script>


</body>
</html>
