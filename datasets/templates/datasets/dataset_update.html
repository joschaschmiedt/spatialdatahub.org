{% extends 'base.html' %}
{% load staticfiles %}
{% load crispy_forms_tags %}

{% block head_title %}Update {{ dataset.title }}{% endblock head_title %}

{% block content %}

<!--
    Do I even need a map on this page at all? Should I just have a full
    width form to create a dataset? That will be a problem for later,
    I have a test for it now.
-->
  <div class="col-12 col-xs-12">  
    <h1>{{ dataset.title }} Update Form</h1>
  </div>

<!-- I might want to get away from crispy forms and just use a normal django
form -->

<!-- The Form -->
  <div class="col-12 col-xs-12" id="update_dataset_form">  
    <form action="." method="post">
      {% csrf_token %}
      {{ form|crispy }}
      <input id="submit_dataset" class="btn btn-success" type="submit" value="Update">
      <a href="{% url 'datasets:dataset_detail' dataset.slug dataset.pk %}" class="btn btn-primary">
        Back to dataset page 
      </a>
      <a href="/" class="btn btn-primary">Back to dataset list</a>
    </form>
  </div>
<!-- End The Form -->

<!-- Map and Background Choices -->
<div class="col-12 col-xs-12" role="main" id="main_map">
  <div id="mapid" value="{{ dataset.pk }}">
  </div>
</div>
<!-- End Map and Background Choices -->
<div>
  <p>{{ data }}</p>
</div>


{% endblock content %}
{% block js %}

<script type="text/javascript" src="{% static 'js/datasets/base_map.js' %}" ></script>
<script type="text/javascript" src="{% static 'js/datasets/updateView.js' %}" ></script>

{% endblock js%}
