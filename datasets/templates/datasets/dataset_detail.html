{% extends 'base.html' %}
{% load staticfiles %}

{% block head_title %}
  {{ dataset.fields.title }}
{% endblock head_title %}

{% block content %}



  <h2 class="text-center">{{ dataset.fields.title }} meta data</h2>
  <div class="col-12 col-xs-12 col-sm-6 col-md-4" role="main" id="meta_data">
    <ul>
      <li><a href="{% url 'datasets:dataset_update' dataset.fields.slug dataset.pk %}">Update this dataset</a></li> 
      <li><a href="{% url 'datasets:portal' %}">Back to map list</a></li> 
      <li>pk: {{ dataset.pk }}</li>
      <li>title: {{ dataset.fields.title }}</li>
      <li>author: {{ dataset.fields.author }}</li>
      <li>url: {{ dataset.fields.url }}</li>
      <li>description: {{ dataset.fields.description }}</li>
      <li>json: {{ dataset.fields.json }}</li>
      <li>extension: {{ dataset.fields.extension }}</li>
      <li>password: {{ dataset.fields.dataset_password }}</li>
      <li>username: {{ dataset.fields.dataset_username }}</li>
    </ul>
  </div>

<!-- Map and Background Choices -->
  <div class="col-12 col-xs-12 col-sm-6 col-md-8" role="main" id="main_map">
    <div id="mapid">
    </div>
  </div>
<!-- End Map and Background Choices -->

<script type="text/javascript" src="{% static 'js/datasets/portal_map.js' %}" ></script>

<!-- Autoload Dataset to Map -->
<!-- I should write this as a jQuery function. That way it can be put on all the dataset specific pages -->
{% if dataset.fields.json %}
  <script type="text/javascript">
    getJsonFromLocal('{{ dataset.fields.json }}');
  </script>
{% else %}
  <script type="text/javascript">
    getJsonFromUrl('{{ dataset.fields.url }}');
  </script>
{% endif %}
<!-- End Autoload Dataset to Map -->

{% endblock content %}
