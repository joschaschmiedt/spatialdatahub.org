{% extends "base.html" %}
{% load staticfiles %}

{% block head_title %}{{ dataset.title }}{% endblock head_title %}
{% block additional_css %}
  #mapid {
    height: 65%;
  }
{% endblock additional_css %}

{% block content %}
{% include "base_map_css.html" %}

<br/>
<h1 class="text-xs-center">{{ dataset.title }}</h1>
<hr class="divider">

<div class="container-fluid">

  <!-- Dataset Info -->
  <div class="row">
    <div class="col-12 col-xs-12" id="meta_data">
      <p><b>Author:</b> {{ dataset.author }}</p> 
      <p><b>Dataset Description:</b> {{ dataset.description }}</p>
    </div>
  </div>
  <!-- End Dataset Info -->

  <!-- Map and Background Choices -->
  <div class="row" id="main_map">
    <div class="col-12 col-xs-12" id="main_map">
      <div id="mapid" value="{{ dataset.pk }}">
      </div>
    </div>
  </div>
  <!-- End Map and Background Choices -->

  <!-- Links to modify the database or get back to the map list -->
  <div class="row">
    <div class="col-12 col-xs-12" id="modifier_links">
    <b>
    {% if user.is_authenticated %}
      <a href="{% url 'datasets:dataset_update' dataset.slug dataset.pk %}" class="btn btn-success">Update this dataset</a>
      <a href="{% url 'datasets:dataset_remove' dataset.slug dataset.pk %}" class="btn btn-danger">Remove this dataset</a>
      <a href="{% url 'datasets:portal' %}" class="btn btn-primary">Back to map list</a>
    {% else %}
      <a href="{% url 'datasets:portal' %}" class="btn btn-primary">Back to map list</a>
    {% endif %}
    </b>
    </div>
  </div>
  <!-- End Links to modify the database or get back to the map list -->

</div>


{% include "base_map_js.html" %}
{% endblock content %}

{% block js %}
  <script type="text/javascript" src="{% static 'js/datasets/base.js' %}"></script>
  <script type="text/javascript" src="{% static 'js/datasets/base_map.js' %}"></script>
  <script type="text/javascript" src="{% static 'js/datasets/detailView.js' %}"></script>
{% endblock js %}
