{% extends 'base.html' %}
{% load staticfiles %}

{% block title %}Portal{% endblock title %}

{% block css %}
<style>

  #mapid {
    height: 75%;
    margin-bottom: 10px;
  }

</style>

<link rel='stylesheet' href='https://unpkg.com/leaflet@1.0.3/dist/leaflet.css' />
<link rel='stylesheet' href='https://unpkg.com/leaflet.markercluster@1.0.0/dist/MarkerCluster.css' />
<link rel='stylesheet' href='https://unpkg.com/leaflet.markercluster@1.0.0/dist/MarkerCluster.Default.css' />

{% endblock css %}

{% block content %}

<!-- account / dataset links -->
  <div class='row'>
    <h5 class='col-xs-12'>
      <a href='{% url "portal" %}' >*</a> /
      <a href='{% url "portal" %}' >portal</a>
    </h5>
  </div>
  <hr class='divider'>
<!-- end account / dataset links -->

{% if dataset_list %}

  {% for dataset in dataset_list %}
    {{ dataset.title }}
    {{ dataset.pk }}
    {{ dataset.ext }}
  {% endfor %}

{% else %}

  <h4>There are no datasets available</h4>

{% endif %}

<div id='mapid'></div>

{% endblock content %}

{% block js %}
<script src='https://unpkg.com/leaflet@1.0.2/dist/leaflet.js'></script>
<script src='https://api.tiles.mapbox.com/mapbox.js/plugins/leaflet-omnivore/v0.3.1/leaflet-omnivore.min.js'></script>
<script src='https://unpkg.com/leaflet.markercluster@1.0.3/dist/leaflet.markercluster.js'></script>
<script src='{% static "js/portalView.js" %}'></script>
{% endblock js %}
