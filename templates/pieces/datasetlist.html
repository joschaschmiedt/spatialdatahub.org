<!--
  for the non list dataset page I believe this can be done better, but
  this is a first test
-->
{% if dataset %}
  {% if dataset.dataset_password %}
    <div name="dataset" id="{{ dataset.pk }}" detail="yeah"
         value="{{ dataset.ext }}">
    </div>
  {% else %}
    <div name="dataset" id="{{ dataset.pk }}" detail="yeah"
         value="{{ dataset.ext }}" url="{{ dataset.url }}">
    </div>
  {% endif %}
    <div id="clear_map"></div>
{% else %}

<!-- list logic -->
{% if dataset_list %}

<!-- search bar and clear map button -->
<ul class="nav nav-pills nav-stacked">
  <li>
    <form action="." method="GET">
      <input name="q" type="text"
             title="Search Datasets" placeholder="Search title, account, author, keyword">
    </form>
  </li>
  <li>
    <button class="btn btn-default btn-block" id="clear_map">
      Clear Map
    </button>
  </li>
</ul>
<!-- end search bar and clear map button -->

  {% for dataset in dataset_list %}
    {% if dataset.dataset_password %}
      <div class="btn-group btn-group-justified" role="group">
        <div class="btn-group" role="group">
          <button type="button" class="btn btn-default"
                  name="dataset" id="{{ dataset.pk }}"
                  value="{{ dataset.ext }}">
            {{ dataset.title }}
          </button>
        </div>
        <div class="btn-group" role="group">
          <a href="{{ dataset.get_absolute_url }}" type="button" class="btn">
            Dataset page
          </a>
        </div>
      </div>
    {% else %}
      <div class="btn-group btn-group-justified" role="group">
        <div class="btn-group" role="group">
          <button type="button" class="btn btn-default"
                  name="dataset" id="{{ dataset.pk }}"
                  value="{{ dataset.ext }}" url="{{ dataset.url }}">
            {{ dataset.title }}
          </button>
        </div>
        <div class="btn-group" role="group">
          <a href="{{ dataset.get_absolute_url }}" type="button" class="btn">
            Dataset page
          </a>
        </div>
      </div>
    {% endif %}
  {% endfor %}
{% else %}
  <a style="color:red" href="{% url 'portal' %}">
    No datasets available. Clear Search.
  </a>
{% endif %}
<!-- end list logic -->

{% endif %}
